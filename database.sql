CREATE DATABASE CCM
USE CCM
GO

CREATE TABLE PRODUCT
(
	ID nvarchar(50),
	PRODUCT_NAME ntext,
	PRODUCT_TYPE nvarchar(50),
	BRAND ntext,
	MANUFRACTURING_DATE datetime,
	QUARANTY int,
	REMAINING int,
	PRICE int,
	PRIMARY KEY(ID)
)
CREATE TABLE PRODUCT_TYPE
(
	ID nvarchar(50),
	NAME ntext,
	PRIMARY KEY (ID)
)

CREATE TABLE GUEST_INFO
(
	ID nvarchar(50),
	GUEST_NAME ntext,
	GUEST_ADDRESS ntext,
	PHONE ntext,
	PRIMARY KEY (ID)
)

CREATE TABLE BILL
(
	ID nvarchar(50),
	GUEST nvarchar(50),
	QUANTITY int,
	TOTAL int,
	BILL_STATUS ntext,
	IS_APPROVED bit,
	PRIMARY KEY (ID)
)

CREATE TABLE CART
(
	ID INT NOT NULL IDENTITY(1,1),
	BILL nvarchar(50),
	PRODUCT nvarchar(50),
	PRODUCT_NAME ntext,
	QUANTITY int,
	PRICE int,
	PRIMARY KEY(ID)
)

CREATE TABLE TEMP_CART
(
	ID INT NOT NULL IDENTITY(1,1),
	PRODUCT nvarchar(50),
	PRODUCT_NAME ntext,
	QUANTITY int,
	PRICE int,
	PRIMARY KEY(ID)
)

CREATE TABLE WISHLIST
(
	ID  INT NOT NULL IDENTITY(1,1),
	PRODUCT nvarchar(50),
	PRODUCT_NAME ntext,
	PRICE int,
	PRIMARY KEY(ID)
)

CREATE TABLE ACCOUNT
(
	ID nvarchar(50),
	USERNAME ntext,
	USER_PASSWORD ntext,
	PRIMARY KEY(ID)
)

ALTER TABLE PRODUCT ADD CONSTRAINT FK_PRODUCT_TYPE FOREIGN KEY (PRODUCT_TYPE) REFERENCES PRODUCT_TYPE(ID);
ALTER TABLE BILL ADD CONSTRAINT FK_GUEST FOREIGN KEY (GUEST) REFERENCES GUEST_INFO(ID);
ALTER TABLE CART ADD CONSTRAINT FK_BILL FOREIGN KEY (BILL) REFERENCES BILL(ID);
ALTER TABLE CART ADD CONSTRAINT FK_PRODUCT FOREIGN KEY (PRODUCT) REFERENCES PRODUCT(ID);

INSERT INTO PRODUCT_TYPE
VALUES ('CPU','Bộ vi xử lý');
INSERT INTO PRODUCT_TYPE
VALUES ('RAM','Bộ nhớ');
INSERT INTO PRODUCT_TYPE
VALUES ('GPU','Card đồ hoạ');
INSERT INTO PRODUCT_TYPE
VALUES ('MAINBOARD','Bo mạch chủ');
INSERT INTO PRODUCT_TYPE
VALUES ('HD','Ổ cứng')
INSERT INTO PRODUCT_TYPE
VALUES ('PSU','Nguồn máy tính')
INSERT INTO PRODUCT_TYPE
VALUES ('CASE','Thùng máy tính')

/*CPU*/
INSERT INTO PRODUCT
VALUES ('190900303', N'CPU INTEL Core i7-9700','CPU','INTEL','12/12/2019',365,20,8990000);
INSERT INTO PRODUCT
VALUES ('200500346', N'CPU INTEL Core i9-10920X','CPU','INTEL','2/2/2020',365,10,21490000);
INSERT INTO PRODUCT
VALUES ('18110369', N'CPU AMD Ryzen Threadripper 2970WX','CPU','AMD','2/5/2020',365,5,26300000);
INSERT INTO PRODUCT
VALUES ('19070064', N'CPU AMD Ryzen 7 3800X','CPU','AMD','1/3/2020',365,25,9300000);

/*RAM*/
INSERT INTO PRODUCT
VALUES ('18120238', N'RAM desktop G.SKILL Trident Z Royal RGB F4-3200C16D-16GTRG (2x8GB) DDR4 3200MHz','RAM','G.SKILL','31/5/2020',365,15,4590000);
INSERT INTO PRODUCT
VALUES ('1809395', N'RAM desktop Crucial Ballistix Tactical Tracer RGB BLT4K8G4D26BFT4K (4x8GB) DDR4 2666MHz','RAM','CRUCIAL','12/2/2019',365,10,6790000);
INSERT INTO PRODUCT
VALUES ('200500325', N'RAM desktop GIGABYTE DESIGNARE Memory (2 x 32GB) DDR4 3200MHz (GP-DSG64G32)','RAM','GIGABYTE','22/2/2019',365,10, 9500000);
INSERT INTO PRODUCT
VALUES ('1601460', N'RAM desktop G.SKILL Trident Z F4-3000C15D-16GTZB (2x8GB) DDR4 3000MHz','RAM','G.SKILL','25/5/2019',365,10, 9500000);

/*GPU*/
INSERT INTO PRODUCT
VALUES ('19040900', N'Card màn hình GALAX GeForce RTX 2080Ti 11GB GDDR6 HOF','GPU','GALAX','12/5/2019',365,3,46990000);
INSERT INTO PRODUCT
VALUES ('19070146', N'Card màn hình ASUS GeForce RTX 2060 Super 8GB GDDR6 ROG Strix','GPU','ASUS','12/5/2019',365,10,13160000);

/*Mainboard*/
INSERT INTO PRODUCT
VALUES ('200400521', N'Mainboard ASUS Prime TRX40 Pro','MAINBOARD','ASUS','12/3/2019',365,8,13260000);
INSERT INTO PRODUCT
VALUES ('191200556', N'Mainboard GIGABYTE X299X Aorus Master','MAINBOARD','GIGABYTE','9/2/2019',365,18,11450000);

/*HardDrive*/
INSERT INTO PRODUCT
VALUES ('191007054', N'Ổ cứng SSD Samsung 970 PRO 1TB NVMe M.2 (Mz-V7P1T0BW)','HD','SAMSUNG','2/3/2020',365,8,13260000);
INSERT INTO PRODUCT
VALUES ('191100205', N'Ổ cứng HDD WD My Book Duo 16TB','HD','WD','5/23/2020',365,5,16790000);

/*PSU*/
INSERT INTO PRODUCT
VALUES ('191101395', N'Nguồn máy tính Super Flower Leadex Platinum - 1600W - 80 Plus Platinum - Full Modular','PSU','Super Flower','3/2/2020',365,8,9290000);
INSERT INTO PRODUCT
VALUES ('19030233', N'Nguồn máy tính ASUS ROG Thor 850P - 850W - 80 Plus Platinum - Full Modular','PSU','ASUS','3/3/2020',365,18,5990000);

/*CASE*/
INSERT INTO PRODUCT
VALUES ('19070016', N'Case máy tính Cooler Master C700P Black Edition','CASE','Cooler Master','29/3/2020',365,8,8190000);
INSERT INTO PRODUCT
VALUES ('190900045', N'Case máy tính ASUS ROG Strix Helios - Mid Tower (Đen)','CASE','Cooler Master','3/2/2020',365,8,6990000);